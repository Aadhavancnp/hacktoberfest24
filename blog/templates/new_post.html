{% extends "base.html" %}

{% block content %}
<h1>Create a New Post</h1>

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        {% for category, message in messages %}
          alert("{{ message | replace('"', '\\"') | replace('\n', '\\n') }}");
        {% endfor %}
      });
    </script>
  {% endif %}
{% endwith %}

<form method="POST" action="{{ url_for('new_post') }}">
    <label for="title">Title:</label>
    <input type="text" name="title" required>
    <label for="content">Content:</label>
    <textarea name="content" required></textarea>
    <button type="submit">Submit</button>
</form>
{% endblock %}